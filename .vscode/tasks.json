{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "Build Debug (Linux)",
			"type": "shell",
			"command": "bash",
			"args": [
				"-lc",
				"cmake -S . -B build/debug -G Ninja -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_CXX_STANDARD=23 -DCMAKE_CXX_STANDARD_REQUIRED=ON -DCMAKE_CXX_EXTENSIONS=OFF -DCMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/cmake/Qt6 -DCMAKE_BUILD_TYPE=Debug && cmake --build build/debug"
			],
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Build RelWithDebInfo (Linux)",
			"type": "shell",
			"command": "bash",
			"args": [
				"-lc",
				"cmake -S . -B build/relwithdebinfo -G Ninja -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_CXX_STANDARD=23 -DCMAKE_CXX_STANDARD_REQUIRED=ON -DCMAKE_CXX_EXTENSIONS=OFF -DCMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/cmake/Qt6 -DCMAKE_BUILD_TYPE=RelWithDebInfo && cmake --build build/relwithdebinfo"
			],
			"group": "build",
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Build Release (Linux)",
			"type": "shell",
			"command": "bash",
			"args": [
				"-lc",
				"cmake -S . -B build/release -G Ninja -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_CXX_STANDARD=23 -DCMAKE_CXX_STANDARD_REQUIRED=ON -DCMAKE_CXX_EXTENSIONS=OFF -DCMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/cmake/Qt6 -DCMAKE_BUILD_TYPE=Release && cmake --build build/release"
			],
			"group": "build",
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Build Optimized (Linux)",
			"type": "shell",
			"command": "bash",
			"args": [
				"-lc",
				"cmake -S . -B build/optimized -G Ninja -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_CXX_STANDARD=23 -DCMAKE_CXX_STANDARD_REQUIRED=ON -DCMAKE_CXX_EXTENSIONS=OFF -DCMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/cmake/Qt6 -DCMAKE_BUILD_TYPE=Release -DGNOTE_ENABLE_IPO=ON -DCMAKE_INTERPROCEDURAL_OPTIMIZATION=ON -DCMAKE_EXE_LINKER_FLAGS_RELEASE='-s' -DCMAKE_SHARED_LINKER_FLAGS_RELEASE='-s' && cmake --build build/optimized"
			],
			"group": "build",
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Configure Debug (Windows)",
			"type": "shell",
			"command": "cmake",
			"args": [
				"-S", ".",
				"-B", "build/win-debug",
				"-G", "Ninja",
				"-DCMAKE_CXX_COMPILER=${env:LLVM_ROOT}/bin/clang++.exe",
				"-DCMAKE_CXX_STANDARD=23",
				"-DCMAKE_CXX_STANDARD_REQUIRED=ON",
				"-DCMAKE_CXX_EXTENSIONS=OFF",
				"-DCMAKE_TOOLCHAIN_FILE=${env:VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake",
				"-DQt6_DIR=${env:Qt6_DIR}",
				"-DCMAKE_PREFIX_PATH=${env:QT6_PREFIX_PATH}",
				"-DCMAKE_BUILD_TYPE=Debug",
				"-DCMAKE_EXE_LINKER_FLAGS=-fuse-ld=lld",
				"-DCMAKE_SHARED_LINKER_FLAGS=-fuse-ld=lld"
			],
			"group": "build",
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Build Debug (Windows)",
			"type": "shell",
			"command": "cmake",
			"args": ["--build", "build/win-debug"],
			"dependsOn": "Configure Debug (Windows)",
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Configure RelWithDebInfo (Windows)",
			"type": "shell",
			"command": "cmake",
			"args": [
				"-S", ".",
				"-B", "build/win-relwithdebinfo",
				"-G", "Ninja",
				"-DCMAKE_CXX_COMPILER=${env:LLVM_ROOT}/bin/clang++.exe",
				"-DCMAKE_CXX_STANDARD=23",
				"-DCMAKE_CXX_STANDARD_REQUIRED=ON",
				"-DCMAKE_CXX_EXTENSIONS=OFF",
				"-DCMAKE_TOOLCHAIN_FILE=${env:VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake",
				"-DQt6_DIR=${env:Qt6_DIR}",
				"-DCMAKE_PREFIX_PATH=${env:QT6_PREFIX_PATH}",
				"-DCMAKE_BUILD_TYPE=RelWithDebInfo",
				"-DCMAKE_EXE_LINKER_FLAGS=-fuse-ld=lld",
				"-DCMAKE_SHARED_LINKER_FLAGS=-fuse-ld=lld"
			],
			"group": "build",
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Build RelWithDebInfo (Windows)",
			"type": "shell",
			"command": "cmake",
			"args": ["--build", "build/win-relwithdebinfo"],
			"dependsOn": "Configure RelWithDebInfo (Windows)",
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Configure Release (Windows)",
			"type": "shell",
			"command": "cmake",
			"args": [
				"-S", ".",
				"-B", "build/win-release",
				"-G", "Ninja",
				"-DCMAKE_CXX_COMPILER=${env:LLVM_ROOT}/bin/clang++.exe",
				"-DCMAKE_CXX_STANDARD=23",
				"-DCMAKE_CXX_STANDARD_REQUIRED=ON",
				"-DCMAKE_CXX_EXTENSIONS=OFF",
				"-DCMAKE_TOOLCHAIN_FILE=${env:VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake",
				"-DQt6_DIR=${env:Qt6_DIR}",
				"-DCMAKE_PREFIX_PATH=${env:QT6_PREFIX_PATH}",
				"-DCMAKE_BUILD_TYPE=Release",
				"-DCMAKE_EXE_LINKER_FLAGS=-fuse-ld=lld",
				"-DCMAKE_SHARED_LINKER_FLAGS=-fuse-ld=lld"
			],
			"group": "build",
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Build Release (Windows)",
			"type": "shell",
			"command": "cmake",
			"args": ["--build", "build/win-release"],
			"dependsOn": "Configure Release (Windows)",
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Configure Optimized (Windows)",
			"type": "shell",
			"command": "cmake",
			"args": [
				"-S", ".",
				"-B", "build/win-optimized",
				"-G", "Ninja",
				"-DCMAKE_CXX_COMPILER=${env:LLVM_ROOT}/bin/clang++.exe",
				"-DCMAKE_CXX_STANDARD=23",
				"-DCMAKE_CXX_STANDARD_REQUIRED=ON",
				"-DCMAKE_CXX_EXTENSIONS=OFF",
				"-DCMAKE_TOOLCHAIN_FILE=${env:VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake",
				"-DQt6_DIR=${env:Qt6_DIR}",
				"-DCMAKE_PREFIX_PATH=${env:QT6_PREFIX_PATH}",
				"-DCMAKE_BUILD_TYPE=Release",
				"-DGNOTE_ENABLE_IPO=ON",
				"-DCMAKE_INTERPROCEDURAL_OPTIMIZATION=ON",
				"-DCMAKE_EXE_LINKER_FLAGS=-fuse-ld=lld",
				"-DCMAKE_SHARED_LINKER_FLAGS=-fuse-ld=lld"
			],
			"group": "build",
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Build Optimized (Windows)",
			"type": "shell",
			"command": "cmake",
			"args": ["--build", "build/win-optimized"],
			"dependsOn": "Configure Optimized (Windows)",
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Clang-Tidy (Debug, Linux)",
			"type": "shell",
			"command": "bash",
			"args": [
				"-lc",
				"cmake -S . -B build/debug -G Ninja -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_CXX_STANDARD=23 -DCMAKE_CXX_STANDARD_REQUIRED=ON -DCMAKE_CXX_EXTENSIONS=OFF -DCMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/cmake/Qt6 -DCMAKE_BUILD_TYPE=Debug -DGNOTE_ENABLE_CLANG_TIDY=ON && cmake --build build/debug"
			],
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Scan-Build (Debug, Linux)",
			"type": "shell",
			"command": "bash",
			"args": [
				"-lc",
				"cmake -S . -B build/analyze -G Ninja -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_CXX_STANDARD=23 -DCMAKE_CXX_STANDARD_REQUIRED=ON -DCMAKE_CXX_EXTENSIONS=OFF -DCMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/cmake/Qt6 -DCMAKE_BUILD_TYPE=Debug && scan-build -o scan-build-report --status-bugs cmake --build build/analyze"
			],
			"problemMatcher": ["$gcc"]
		},
		{
			"label": "Clang-Format (Linux)",
			"type": "shell",
			"command": "bash",
			"args": [
				"-lc",
				"cmake --build build/debug --target run-clang-format"
			],
			"problemMatcher": []
		}
		,
		{
			"label": "Publish (Windows)",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-File",
				"tools/publish-win.ps1"
			],
			"dependsOn": "Build Optimized (Windows)",
			"problemMatcher": []
		}
	]
}